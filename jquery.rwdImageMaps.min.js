/*
* rwdImageMaps jQuery plugin v1.5
*
* Allows image maps to be used in a responsive design by recalculating the area coordinates to match the actual image size on load and window.resize
*
* Copyright (c) 2013 Matt Stow
* https://github.com/stowball/jQuery-rwdImageMaps
* http://mattstow.com
* Licensed under the MIT license
* Usage: 
*	Without debounce
*	$('img[usemap]').rwdImageMaps();
*   
*	Disable.
*   $('img[usemap]').rwdImageMaps('off');
*
*	With debounce on at 500ms
*	$('img[usemap]').rwdImageMaps({
*		debounce: true,
*		timeout: 500
*	});
*/
;(function(a){a.fn.rwdImageMaps=function(d){var e=this,g={debounce:false,timeout:300},f=a.extend(g,typeof d==="object"?d:{});if(typeof d==="string"){action=d}var b=function(){e.each(function(){if(typeof(a(this).attr("usemap"))=="undefined"){return}var i=this,h=a(i);a("<img />").load(function(){var k="width",p="height",q=h.attr(k),m=h.attr(p);if(!q||!m){var r=new Image();r.src=h.attr("src");if(!q){q=r.width}if(!m){m=r.height}}var j=h.width()/100,n=h.height()/100,l=h.attr("usemap").replace("#",""),o="coords";a('map[name="'+l+'"]').find("area").each(function(){var v=a(this);if(!v.data(o)){v.data(o,v.attr(o))}var u=v.data(o).split(","),t=new Array(u.length);for(var s=0;s<t.length;++s){if(s%2===0){t[s]=parseInt(((u[s]/q)*100)*j)}else{t[s]=parseInt(((u[s]/m)*100)*n)}}v.attr(o,t.toString())})}).attr("src",h.attr("src"))})};var c=function(h,i){var j;return function(){clearTimeout(j);j=setTimeout(function(){h()},i)}};if(action==="off"){a(window).off("resize.rwdImageMaps")}else{if(f.debounce){a(window).on("resize.rwdImageMaps",c(b,f.timeout))}else{a(window).on("resize.rwdImageMaps",b)}}return this}})(jQuery);